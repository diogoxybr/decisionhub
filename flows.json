[
    {
        "id": "3c27d32a0074e6b2",
        "type": "tab",
        "label": "FIWARE",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5a4975ebcc568c40",
        "type": "tab",
        "label": "Aba seleção de ovos",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "148c173e8eacbf9a",
        "type": "tab",
        "label": "Tempo real",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "ea538592da2e51e2",
        "type": "tab",
        "label": "Histórico",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "366409cd76c69ba2",
        "type": "ui_base",
        "theme": {
            "name": "theme-custom",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#feb020",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#1a8e06",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#4B7930",
                    "value": "#4B7930",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#4B7930",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#6db046",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#4b7930",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "blue",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "dark"
            }
        },
        "site": {
            "name": "DECISION HUB - Seu HUB de informações úteis para avicultura",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "true",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YY",
            "sizes": {
                "sx": 40,
                "sy": 40,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "95a56cd306c01399",
        "type": "ui_tab",
        "name": "Início",
        "icon": "home",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "f8d2be63eb19876e",
        "type": "ui_group",
        "name": "Temperatura atual: Santa Rita do Passa Quatro, SP, BR",
        "tab": "95a56cd306c01399",
        "order": 1,
        "disp": true,
        "width": "16",
        "collapse": false,
        "className": ""
    },
    {
        "id": "8bcb2804d0691f25",
        "type": "ui_group",
        "name": "Gráficos de temperatura e umidade em São Carlos, SP",
        "tab": "d06c7024e6938db6",
        "order": 2,
        "disp": true,
        "width": "23",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1026f58dc258542c",
        "type": "ui_tab",
        "name": "Seleção de ovos",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "a36d8b353b5ac62a",
        "type": "ui_group",
        "name": "Ovos bons",
        "tab": "1026f58dc258542c",
        "order": 2,
        "disp": true,
        "width": 7,
        "collapse": false,
        "className": ""
    },
    {
        "id": "847566bf4ea81b9a",
        "type": "ui_group",
        "name": "Ovos ruins",
        "tab": "1026f58dc258542c",
        "order": 3,
        "disp": true,
        "width": 7,
        "collapse": false,
        "className": ""
    },
    {
        "id": "cad099844726e2c2",
        "type": "ui_group",
        "name": "Controles",
        "tab": "1026f58dc258542c",
        "order": 1,
        "disp": true,
        "width": 8,
        "collapse": false,
        "className": ""
    },
    {
        "id": "9bccc41af47bb660",
        "type": "Open APIs",
        "name": "Helix",
        "geType": "orion",
        "apiEndpoint": "http://46.17.108.89:1026/",
        "service": "helixiot",
        "idmEndpoint": "",
        "idmType": "none"
    },
    {
        "id": "d06c7024e6938db6",
        "type": "ui_tab",
        "name": "Histórico 1",
        "icon": "show_chart",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "4aad0bd0b75bb4a8",
        "type": "ui_group",
        "name": "Termômetro de coluna",
        "tab": "95a56cd306c01399",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "5c3af32dfbbc6bd9",
        "type": "ui_group",
        "name": "Gráfico da produção",
        "tab": "1026f58dc258542c",
        "order": 4,
        "disp": true,
        "width": 22,
        "collapse": false,
        "className": ""
    },
    {
        "id": "a7d23cd996ba7867",
        "type": "ui_tab",
        "name": "Histórico 2",
        "icon": "show_chart",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "8e1d1b289722c345",
        "type": "ui_group",
        "name": "Gráficos de produção e preço semanais",
        "tab": "a7d23cd996ba7867",
        "order": 1,
        "disp": true,
        "width": 23,
        "collapse": false,
        "className": ""
    },
    {
        "id": "2e08ac261278ed52",
        "type": "ui_spacer",
        "z": "148c173e8eacbf9a",
        "name": "spacer",
        "group": "cad099844726e2c2",
        "order": 1,
        "width": 8,
        "height": 1
    },
    {
        "id": "23aada1698d2eb9f",
        "type": "ui_group",
        "name": "Previsões",
        "tab": "95a56cd306c01399",
        "order": 3,
        "disp": true,
        "width": "22",
        "collapse": true,
        "className": ""
    },
    {
        "id": "e07eeea7391daac4",
        "type": "ui_spacer",
        "z": "148c173e8eacbf9a",
        "name": "spacer",
        "group": "23aada1698d2eb9f",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "25146704fdff4c17",
        "type": "ui_tab",
        "name": "Sobre",
        "icon": "feedback",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ce464e0166efc6ec",
        "type": "ui_group",
        "name": "Trabalho de conclusão de curso",
        "tab": "25146704fdff4c17",
        "order": 1,
        "disp": true,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "161270f121bf3a0d",
        "type": "ui_spacer",
        "z": "148c173e8eacbf9a",
        "name": "spacer",
        "group": "ce464e0166efc6ec",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "c5056ac5491c2657",
        "type": "ui_spacer",
        "z": "148c173e8eacbf9a",
        "name": "spacer",
        "group": "ce464e0166efc6ec",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "d13ff7ba584766ad",
        "type": "FIWARE version",
        "z": "3c27d32a0074e6b2",
        "name": "",
        "openapis": "9bccc41af47bb660",
        "x": 300,
        "y": 40,
        "wires": [
            [
                "2bd12c432ba89bed"
            ]
        ]
    },
    {
        "id": "2cc2d89279b19382",
        "type": "inject",
        "z": "3c27d32a0074e6b2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 40,
        "wires": [
            [
                "d13ff7ba584766ad"
            ]
        ]
    },
    {
        "id": "2bd12c432ba89bed",
        "type": "debug",
        "z": "3c27d32a0074e6b2",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 40,
        "wires": []
    },
    {
        "id": "fc30cffa238e8e1b",
        "type": "NGSI Entity",
        "z": "3c27d32a0074e6b2",
        "name": "Criar entidade",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "create",
        "entityId": "",
        "entityType": "",
        "attrs": "",
        "keyValues": "false",
        "dateModified": "false",
        "x": 300,
        "y": 100,
        "wires": [
            [
                "c87af5ac09123664"
            ]
        ]
    },
    {
        "id": "06255b12958273f3",
        "type": "inject",
        "z": "3c27d32a0074e6b2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"id\":\"urn:ngsi-ld:entity:001\",\"type\":\"iot\",\"temperature\":{\"type\":\"float\",\"value\":0},\"humidity\":{\"type\":\"float\",\"value\":0},\"irrigation\":{\"type\":\"bolean\",\"value\":0},\"gerator\":{\"type\":\"bolean\",\"value\":1},\"exaustor\":{\"type\":\"bolean\",\"value\":1},\"soja\":{\"type\":\"array\",\"value\":[1451,1457,1429,1417,1428,1436]}}",
        "payloadType": "json",
        "x": 110,
        "y": 100,
        "wires": [
            [
                "fc30cffa238e8e1b"
            ]
        ]
    },
    {
        "id": "c87af5ac09123664",
        "type": "debug",
        "z": "3c27d32a0074e6b2",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 100,
        "wires": []
    },
    {
        "id": "f18a1294788f3491",
        "type": "NGSI Entity",
        "z": "3c27d32a0074e6b2",
        "name": "Ler entidade",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "read",
        "entityId": "urn:ngsi-ld:entity:001",
        "entityType": "iot",
        "attrs": "",
        "keyValues": "false",
        "dateModified": "false",
        "x": 290,
        "y": 160,
        "wires": [
            [
                "7ba35e812154abd9"
            ]
        ]
    },
    {
        "id": "526a4255dce2df39",
        "type": "inject",
        "z": "3c27d32a0074e6b2",
        "name": "Ler entidade",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "x": 110,
        "y": 160,
        "wires": [
            [
                "f18a1294788f3491"
            ]
        ]
    },
    {
        "id": "7ba35e812154abd9",
        "type": "debug",
        "z": "3c27d32a0074e6b2",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 160,
        "wires": []
    },
    {
        "id": "39149dcb9ec0743d",
        "type": "NGSI Entity",
        "z": "3c27d32a0074e6b2",
        "name": "Excluir entidade",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "delete",
        "entityId": "",
        "entityType": "iot",
        "attrs": "",
        "keyValues": "false",
        "dateModified": "false",
        "x": 300,
        "y": 220,
        "wires": [
            [
                "86c307735986c38f"
            ]
        ]
    },
    {
        "id": "1a8ac891a28d633b",
        "type": "inject",
        "z": "3c27d32a0074e6b2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"id\":\"urn:ngsi-ld:entity:1\"}",
        "payloadType": "json",
        "x": 110,
        "y": 220,
        "wires": [
            [
                "39149dcb9ec0743d"
            ]
        ]
    },
    {
        "id": "86c307735986c38f",
        "type": "debug",
        "z": "3c27d32a0074e6b2",
        "name": "debug 4",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 220,
        "wires": []
    },
    {
        "id": "f218d821bd39cc59",
        "type": "inject",
        "z": "3c27d32a0074e6b2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"temperature\":{\"type\":\"float\",\"value\":17,\"metadata\":{}}}",
        "payloadType": "json",
        "x": 110,
        "y": 280,
        "wires": [
            [
                "2c2e1aabea6674f6"
            ]
        ]
    },
    {
        "id": "bb771975c7c01820",
        "type": "debug",
        "z": "3c27d32a0074e6b2",
        "name": "debug 5",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 280,
        "wires": []
    },
    {
        "id": "2c2e1aabea6674f6",
        "type": "NGSI Attributes",
        "z": "3c27d32a0074e6b2",
        "name": "Atualizar entidade",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "update",
        "entityId": "urn:ngsi-ld:entity:001",
        "entityType": "iot",
        "keyValues": "false",
        "overrideMetadata": "false",
        "forcedUpdate": "false",
        "flowControl": "false",
        "x": 310,
        "y": 280,
        "wires": [
            [
                "bb771975c7c01820"
            ]
        ]
    },
    {
        "id": "cd23d68815e799ad",
        "type": "inject",
        "z": "3c27d32a0074e6b2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"type\":\"float\",\"value\":22}",
        "payloadType": "json",
        "x": 110,
        "y": 340,
        "wires": [
            [
                "493d776fbb65c0b2"
            ]
        ]
    },
    {
        "id": "e22bf8bc4dd4eb89",
        "type": "debug",
        "z": "3c27d32a0074e6b2",
        "name": "debug 6",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 340,
        "wires": []
    },
    {
        "id": "493d776fbb65c0b2",
        "type": "NGSI Attribute",
        "z": "3c27d32a0074e6b2",
        "name": "Atualizar atributo",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "update",
        "entityId": "urn:ngsi-ld:entity:001",
        "entityType": "iot",
        "attrName": "temperature",
        "metadata": "",
        "skipForwarding": "false",
        "overrideMetadata": "false",
        "forcedUpdate": "false",
        "flowControl": "false",
        "x": 310,
        "y": 340,
        "wires": [
            [
                "e22bf8bc4dd4eb89"
            ]
        ]
    },
    {
        "id": "86f2bc2210a3a5db",
        "type": "inject",
        "z": "3c27d32a0074e6b2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "40",
        "payloadType": "json",
        "x": 110,
        "y": 400,
        "wires": [
            [
                "1f18837a26d4103c"
            ]
        ]
    },
    {
        "id": "d081d67b9bce00c6",
        "type": "debug",
        "z": "3c27d32a0074e6b2",
        "name": "debug 7",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 400,
        "wires": []
    },
    {
        "id": "1f18837a26d4103c",
        "type": "NGSI Attribute value",
        "z": "3c27d32a0074e6b2",
        "name": "Atualizar valor atrib",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "update",
        "entityId": "urn:ngsi-ld:entity:001",
        "entityType": "iot",
        "attrName": "temperature",
        "skipForwarding": "false",
        "forcedUpdate": "false",
        "flowControl": "false",
        "x": 310,
        "y": 400,
        "wires": [
            [
                "d081d67b9bce00c6"
            ]
        ]
    },
    {
        "id": "c7cab7f5f37eaa80",
        "type": "NGSI Entity",
        "z": "3c27d32a0074e6b2",
        "name": "Excluir entidade",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "delete",
        "entityId": "urn:ngsi-ld:OpenWeatherMapWeather:3449851",
        "entityType": "OpenWeatherMapWeather",
        "attrs": "",
        "keyValues": "false",
        "dateModified": "false",
        "x": 460,
        "y": 460,
        "wires": [
            [
                "6997e13a0b3f82f8"
            ]
        ]
    },
    {
        "id": "6de0ae6b2d5ff539",
        "type": "inject",
        "z": "3c27d32a0074e6b2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"id\":\"urn:ngsi-ld:OpenWeatherMapWeather:3449851\"}",
        "payloadType": "json",
        "x": 310,
        "y": 460,
        "wires": [
            [
                "c7cab7f5f37eaa80"
            ]
        ]
    },
    {
        "id": "6997e13a0b3f82f8",
        "type": "debug",
        "z": "3c27d32a0074e6b2",
        "name": "debug 12",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 460,
        "wires": []
    },
    {
        "id": "4146a402102ef11c",
        "type": "inject",
        "z": "5a4975ebcc568c40",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "0.5",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 260,
        "wires": [
            [
                "09d9d28149060341",
                "299dd746a3d73120"
            ]
        ]
    },
    {
        "id": "9bb4846fcdc0c53e",
        "type": "ui_gauge",
        "z": "5a4975ebcc568c40",
        "name": "",
        "group": "847566bf4ea81b9a",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "% Ovos ruins",
        "label": "%",
        "format": "{{ruins_pc}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 770,
        "y": 260,
        "wires": []
    },
    {
        "id": "09d9d28149060341",
        "type": "random",
        "z": "5a4975ebcc568c40",
        "name": "",
        "low": "0",
        "high": "100",
        "inte": "true",
        "property": "payload",
        "x": 120,
        "y": 200,
        "wires": [
            [
                "107ac0e110812f10"
            ]
        ]
    },
    {
        "id": "e3fe612ebb0e5a9f",
        "type": "switch",
        "z": "5a4975ebcc568c40",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "15",
                "vt": "str"
            },
            {
                "t": "gte",
                "v": "15",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 260,
        "wires": [
            [
                "200a276efa3f7dec"
            ],
            [
                "03567ed33d3c9401"
            ]
        ]
    },
    {
        "id": "03567ed33d3c9401",
        "type": "function",
        "z": "5a4975ebcc568c40",
        "name": "Ovos bons",
        "func": "var boas=flow.get(\"boas\")||0\nboas+=1\nflow.set(\"boas\",boas);\nmsg.boas = flow.get(\"boas\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 300,
        "wires": [
            [
                "ddf4e2ed36b1e975",
                "6a63c4aa5cf46339"
            ]
        ]
    },
    {
        "id": "200a276efa3f7dec",
        "type": "function",
        "z": "5a4975ebcc568c40",
        "name": "Ovos ruins",
        "func": "var ruins = flow.get(\"ruins\") || 0\nruins+=1\nflow.set(\"ruins\",ruins);\nmsg.ruins = flow.get(\"ruins\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 220,
        "wires": [
            [
                "b7b501af8d966eae",
                "6a63c4aa5cf46339"
            ]
        ]
    },
    {
        "id": "408a8ed0accd5bce",
        "type": "function",
        "z": "5a4975ebcc568c40",
        "name": "reset contadores",
        "func": "flow.set(\"boas\",0);\nflow.set(\"ruins\",0);\nflow.set(\"total\", 0);\nmsg.boas = flow.get(\"boas\")\nmsg.ruins = flow.get(\"ruins\")\nmsg.ruins = flow.get(\"total\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 380,
        "wires": [
            [
                "9bb4846fcdc0c53e",
                "9834b9ff599c3e33",
                "b7b501af8d966eae",
                "ddf4e2ed36b1e975"
            ]
        ]
    },
    {
        "id": "299dd746a3d73120",
        "type": "ui_button",
        "z": "5a4975ebcc568c40",
        "name": "",
        "group": "cad099844726e2c2",
        "order": 5,
        "width": 8,
        "height": 1,
        "passthru": false,
        "label": "Zerar contagem",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 260,
        "y": 380,
        "wires": [
            [
                "408a8ed0accd5bce"
            ]
        ]
    },
    {
        "id": "2550832b6db8a2ae",
        "type": "ui_text",
        "z": "5a4975ebcc568c40",
        "group": "cad099844726e2c2",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Total de ovos produzidos",
        "format": "{{msg.total}}",
        "layout": "row-spread",
        "className": "",
        "x": 550,
        "y": 120,
        "wires": []
    },
    {
        "id": "107ac0e110812f10",
        "type": "function",
        "z": "5a4975ebcc568c40",
        "name": "Ovos total",
        "func": "var total = flow.get(\"total\") || 0\ntotal+=1\nflow.set(\"total\", total);\nmsg.total = flow.get(\"total\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 200,
        "wires": [
            [
                "e3fe612ebb0e5a9f",
                "2550832b6db8a2ae",
                "b451f75c589f3afb"
            ]
        ]
    },
    {
        "id": "9834b9ff599c3e33",
        "type": "ui_gauge",
        "z": "5a4975ebcc568c40",
        "name": "",
        "group": "a36d8b353b5ac62a",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "% Ovos bons",
        "label": "%",
        "format": "{{boas_pc}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#ca3838",
            "#e6e600",
            "#00b500"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 770,
        "y": 340,
        "wires": []
    },
    {
        "id": "b7b501af8d966eae",
        "type": "ui_text",
        "z": "5a4975ebcc568c40",
        "group": "cad099844726e2c2",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Total de ovos ruins",
        "format": "{{msg.ruins}}",
        "layout": "row-spread",
        "className": "",
        "x": 750,
        "y": 420,
        "wires": []
    },
    {
        "id": "ddf4e2ed36b1e975",
        "type": "ui_text",
        "z": "5a4975ebcc568c40",
        "group": "cad099844726e2c2",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Total de ovos bons",
        "format": "{{msg.boas}}",
        "layout": "row-spread",
        "className": "",
        "x": 750,
        "y": 480,
        "wires": []
    },
    {
        "id": "6a63c4aa5cf46339",
        "type": "function",
        "z": "5a4975ebcc568c40",
        "name": "% ovos",
        "func": "//porcentagem ruins\nvar ruins_pc = flow.get(\"ruins\") || 0;\nruins_pc = (flow.get(\"ruins\") / flow.get(\"total\")) * 100;\nmsg.ruins_pc = Math.round(ruins_pc);\n\n//porcentagem boas\nvar boas_pc = flow.get(\"boas\") || 0;\nboas_pc = (flow.get(\"boas\") / flow.get(\"total\")) * 100;\nmsg.boas_pc = Math.round(boas_pc);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 180,
        "wires": [
            [
                "9bb4846fcdc0c53e",
                "9834b9ff599c3e33"
            ]
        ]
    },
    {
        "id": "b451f75c589f3afb",
        "type": "change",
        "z": "5a4975ebcc568c40",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "msg.total",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 60,
        "wires": [
            [
                "8f9fb0916a5e8197"
            ]
        ]
    },
    {
        "id": "8f9fb0916a5e8197",
        "type": "ui_chart",
        "z": "5a4975ebcc568c40",
        "name": "",
        "group": "5c3af32dfbbc6bd9",
        "order": 1,
        "width": 22,
        "height": 5,
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "D/M",
        "interpolate": "bezier",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": "7",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": true,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 610,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "e34f2a194c1d6242",
        "type": "ui_gauge",
        "z": "148c173e8eacbf9a",
        "name": "",
        "group": "f8d2be63eb19876e",
        "order": 2,
        "width": 8,
        "height": 6,
        "gtype": "gage",
        "title": "Temperatura atual",
        "label": "°C",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#1f77b4",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 770,
        "y": 460,
        "wires": []
    },
    {
        "id": "d21a459c713ecc78",
        "type": "openweathermap",
        "z": "148c173e8eacbf9a",
        "name": "",
        "wtype": "current",
        "lon": "",
        "lat": "",
        "city": "Santa Rita do Passa Quatro",
        "country": "Brasil",
        "language": "pt",
        "x": 260,
        "y": 140,
        "wires": [
            [
                "c71215b7ac67e683"
            ]
        ]
    },
    {
        "id": "cc9f51ae0355fdae",
        "type": "inject",
        "z": "148c173e8eacbf9a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 80,
        "wires": [
            [
                "d21a459c713ecc78"
            ]
        ]
    },
    {
        "id": "c71215b7ac67e683",
        "type": "OpenWeatherMap to NGSI",
        "z": "148c173e8eacbf9a",
        "name": "WeatherToNGSI",
        "x": 480,
        "y": 80,
        "wires": [
            [
                "768e66eeecc658cd",
                "f4377ba4dfbfde65"
            ]
        ]
    },
    {
        "id": "768e66eeecc658cd",
        "type": "NGSI Entity",
        "z": "148c173e8eacbf9a",
        "name": "Criar entidade",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "upsert",
        "entityId": "",
        "entityType": "",
        "attrs": "",
        "keyValues": "false",
        "dateModified": "false",
        "x": 720,
        "y": 80,
        "wires": [
            [
                "f5f7d401e39b7f55"
            ]
        ]
    },
    {
        "id": "f4377ba4dfbfde65",
        "type": "debug",
        "z": "148c173e8eacbf9a",
        "name": "debug 18",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 510,
        "y": 140,
        "wires": []
    },
    {
        "id": "f5f7d401e39b7f55",
        "type": "debug",
        "z": "148c173e8eacbf9a",
        "name": "debug 19",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 730,
        "y": 140,
        "wires": []
    },
    {
        "id": "06680ea47a342933",
        "type": "NGSI Entity",
        "z": "148c173e8eacbf9a",
        "name": "",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "read",
        "entityId": "urn:ngsi-ld:OpenWeatherMapWeather:3449851",
        "entityType": "OpenWeatherMapWeather",
        "attrs": "main",
        "keyValues": "false",
        "dateModified": "false",
        "x": 270,
        "y": 400,
        "wires": [
            [
                "9713cc4c8866a808"
            ]
        ]
    },
    {
        "id": "9713cc4c8866a808",
        "type": "NGSI Attribute value",
        "z": "148c173e8eacbf9a",
        "name": "",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "read",
        "entityId": "",
        "entityType": "",
        "attrName": "main",
        "skipForwarding": "false",
        "forcedUpdate": "false",
        "flowControl": "false",
        "x": 500,
        "y": 400,
        "wires": [
            [
                "2709ef4b62f184ae",
                "92055da4bf90bf02",
                "5ff4dad65b2d73c0"
            ]
        ]
    },
    {
        "id": "2709ef4b62f184ae",
        "type": "change",
        "z": "148c173e8eacbf9a",
        "name": "Ler temperatura",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.temp",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 460,
        "wires": [
            [
                "e9260fc7f8852e75"
            ]
        ]
    },
    {
        "id": "08b0efc718d74b5c",
        "type": "ui_widget_thermometer",
        "z": "148c173e8eacbf9a",
        "group": "4aad0bd0b75bb4a8",
        "order": 1,
        "width": 6,
        "height": 7,
        "name": "Termômetro Sta Rita",
        "title": " ",
        "numColor": 3,
        "colorTop": "#2196f3",
        "colorMiddle": "#8bc34a",
        "colorBottom": "#f44336",
        "unit": "°C",
        "scale": "normal",
        "minTemp": 0,
        "maxTemp": "50",
        "x": 560,
        "y": 520,
        "wires": []
    },
    {
        "id": "caa94a1d231b118e",
        "type": "ui_toast",
        "z": "148c173e8eacbf9a",
        "position": "bottom left",
        "displayTime": "0",
        "highlight": "",
        "sendall": false,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "",
        "name": "",
        "x": 310,
        "y": 520,
        "wires": []
    },
    {
        "id": "5ff4dad65b2d73c0",
        "type": "debug",
        "z": "148c173e8eacbf9a",
        "name": "debug 21",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 400,
        "wires": []
    },
    {
        "id": "d775b25784dd04e9",
        "type": "comment",
        "z": "148c173e8eacbf9a",
        "name": "Lê a temperatura e umidade na entidade criada e envia o dado da temperatura atual ao gauge, termômetro e notificação",
        "info": "",
        "x": 440,
        "y": 220,
        "wires": []
    },
    {
        "id": "9c2b4db9126dcecc",
        "type": "comment",
        "z": "148c173e8eacbf9a",
        "name": "Lê a temperatura de São Carlos através do openweather e cria entidade no Helix",
        "info": "",
        "x": 440,
        "y": 20,
        "wires": []
    },
    {
        "id": "e36b639f8b3640f7",
        "type": "ui_gauge",
        "z": "148c173e8eacbf9a",
        "name": "",
        "group": "f8d2be63eb19876e",
        "order": 3,
        "width": 8,
        "height": 6,
        "gtype": "gage",
        "title": "Umidade atual",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#ca3838",
            "#00b500",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 780,
        "y": 340,
        "wires": []
    },
    {
        "id": "92055da4bf90bf02",
        "type": "change",
        "z": "148c173e8eacbf9a",
        "name": "Ler umidade",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.humidity",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 340,
        "wires": [
            [
                "e36b639f8b3640f7",
                "e46841217e54b5eb"
            ]
        ]
    },
    {
        "id": "e46841217e54b5eb",
        "type": "ui_toast",
        "z": "148c173e8eacbf9a",
        "position": "bottom left",
        "displayTime": "0",
        "highlight": "",
        "sendall": false,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "",
        "name": "",
        "x": 770,
        "y": 280,
        "wires": []
    },
    {
        "id": "e9260fc7f8852e75",
        "type": "function",
        "z": "148c173e8eacbf9a",
        "name": "function 2",
        "func": "let celsius = (msg.payload - 273.15);\nmsg.payload = Math.floor(celsius);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 460,
        "wires": [
            [
                "e34f2a194c1d6242",
                "c57b5f16ca988d0b",
                "08b0efc718d74b5c",
                "caa94a1d231b118e"
            ]
        ]
    },
    {
        "id": "c57b5f16ca988d0b",
        "type": "debug",
        "z": "148c173e8eacbf9a",
        "name": "debug 28",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 780,
        "y": 520,
        "wires": []
    },
    {
        "id": "90bb6fd43975f930",
        "type": "NGSI Entity",
        "z": "148c173e8eacbf9a",
        "name": "",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "read",
        "entityId": "urn:ngsi-ld:OpenWeatherMapWeather:3449851",
        "entityType": "OpenWeatherMapWeather",
        "attrs": "weather",
        "keyValues": "false",
        "dateModified": "false",
        "x": 230,
        "y": 580,
        "wires": [
            [
                "ceb7022157ec4ace"
            ]
        ]
    },
    {
        "id": "b264cb08ede71671",
        "type": "change",
        "z": "148c173e8eacbf9a",
        "name": "Ler desc",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.description",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 580,
        "wires": [
            [
                "a92e42061438ea16"
            ]
        ]
    },
    {
        "id": "a92e42061438ea16",
        "type": "ui_text",
        "z": "148c173e8eacbf9a",
        "group": "f8d2be63eb19876e",
        "order": 1,
        "width": 16,
        "height": 1,
        "name": "",
        "label": "Situação:  ",
        "format": " {{value}}",
        "layout": "row-center",
        "className": "",
        "x": 800,
        "y": 580,
        "wires": []
    },
    {
        "id": "ceb7022157ec4ace",
        "type": "NGSI Attribute value",
        "z": "148c173e8eacbf9a",
        "name": "",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "read",
        "entityId": "",
        "entityType": "",
        "attrName": "weather",
        "skipForwarding": "false",
        "forcedUpdate": "false",
        "flowControl": "false",
        "x": 440,
        "y": 580,
        "wires": [
            [
                "b264cb08ede71671"
            ]
        ]
    },
    {
        "id": "7391873bcc70fbb0",
        "type": "ui_template",
        "z": "148c173e8eacbf9a",
        "group": "23aada1698d2eb9f",
        "name": "7 dias",
        "order": 1,
        "width": 22,
        "height": 3,
        "format": "<div id=\"cont_76580c94eeb521be002306d636151909\">\n    <script type=\"text/javascript\" async src=\"https://www.tempo.com/wid_loader/76580c94eeb521be002306d636151909\">\n    </script>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 70,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "506a67d43700ae58",
        "type": "ui_template",
        "z": "148c173e8eacbf9a",
        "group": "23aada1698d2eb9f",
        "name": "Video sudeste",
        "order": 2,
        "width": 10,
        "height": 6,
        "format": "<iframe scrolling=\"no\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" style=\"margin:0;padding:0;border:0;\" width=\"420\"\n    height=\"315\" src=\"https://www.climatempo.com.br/tempo-no-seu-site/videos/selo/sudeste/420x315\"></iframe>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 260,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "4ee52d4f0a967bd5",
        "type": "ui_template",
        "z": "148c173e8eacbf9a",
        "group": "23aada1698d2eb9f",
        "name": "Mapa",
        "order": 3,
        "width": 12,
        "height": 6,
        "format": "<iframe\n    src=\"https://www.meteoblue.com/pt/tempo/mapas/widget/santa-rita-do-passa-quatro_brasil_3449851?windAnimation=0&windAnimation=1&gust=0&gust=1&satellite=0&satellite=1&cloudsAndPrecipitation=0&cloudsAndPrecipitation=1&temperature=0&temperature=1&sunshine=0&sunshine=1&extremeForecastIndex=0&extremeForecastIndex=1&geoloc=fixed&tempunit=C&windunit=km%252Fh&lengthunit=metric&zoom=10&autowidth=auto\"\n    frameborder=\"0\" scrolling=\"NO\" allowtransparency=\"true\"\n    sandbox=\"allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox\"\n    style=\"width: 100%; height: 420px\"></iframe>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 450,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "a2392fa0fe8572f9",
        "type": "inject",
        "z": "148c173e8eacbf9a",
        "name": "Leitura",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "x": 90,
        "y": 400,
        "wires": [
            [
                "06680ea47a342933",
                "90bb6fd43975f930"
            ]
        ]
    },
    {
        "id": "08acb9ef9b9a196b",
        "type": "NGSI Entity",
        "z": "ea538592da2e51e2",
        "name": "Criar entidade",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "create",
        "entityId": "",
        "entityType": "",
        "attrs": "",
        "keyValues": "true",
        "dateModified": "false",
        "x": 300,
        "y": 60,
        "wires": [
            [
                "31e2c2c9f2bff06a"
            ]
        ]
    },
    {
        "id": "e8728d79043dcd53",
        "type": "inject",
        "z": "ea538592da2e51e2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"id\":\"urn:ngsi-ld:decision:1\",\"type\":\"data\",\"dia\":[\"16/07/21\",\"23/07/21\",\"30/07/21\",\"03/08/21\",\"09/08/21\",\"17/08/21\",\"24/08/21\",\"31/08/21\",\"08/09/21\",\"14/09/21\",\"20/09/21\",\"27/09/21\",\"05/10/21\",\"15/10/21\",\"22/10/21\",\"26/10/21\",\"03/11/21\",\"09/11/21\",\"16/11/21\",\"23/11/21\",\"30/11/21\",\"07/12/21\",\"14/12/21\",\"20/12/21\",\"28/12/21\",\"04/01/22\",\"11/01/22\",\"18/01/22\",\"25/01/22\",\"01/02/22\",\"08/02/22\",\"15/02/22\",\"22/02/22\",\"04/03/22\",\"08/03/22\",\"15/03/22\",\"22/03/22\",\"29/03/22\",\"05/04/22\",\"12/04/22\",\"19/04/22\",\"26/04/22\",\"03/05/22\",\"10/05/22\",\"17/05/22\",\"24/05/22\",\"31/05/22\",\"07/06/22\",\"14/06/22\",\"20/06/22\",\"27/06/22\",\"05/07/22\",\"11/07/22\",\"20/07/22\",\"25/07/22\",\"02/08/22\"],\"producao\":[553,718,677,677.5,732,778,755.5,790,899.5,684,793,791,758.5,980,549,761,864,631,726,743,755,752.5,760.5,753,767,762.5,758,754,763,766.5,760,768.5,764,1084,430,742.5,736.75,729.5,738,729,728.5,725.5,722,724.5,722,715.5,718,712,709,700.5,688.75,680.5,688.5,686,685,677.5],\"temp\":[19.68,17.18,16.14,16.4,19.05,22.28,22.98,19.56,25.01,24.34,24.68,23.99,22.3,21.41,19.4,22.14,22.47,22.63,21.61,23.04,22.91,21.18,23.01,22.53,22.06,21.62,21.17,23.4,25.31,20.71,22.29,23,23.23,22.51,22.3,22.36,22.44,21,21.6,21.28,19.75,21.01,21,17.94,17.78,12.81,18.79,18.9,16.64,16.89,18.37,18.15,18.46,19.92,20.64,19.09],\"valor\":[6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.53,6.58,6.58,6.58,6.58,6.58,6.58,6.75,6.75,6.75,6.75,6.75,6.75,6.75,6.75,6.75,6.75,6.75,6.75,6.75,7.5,7.5,7.5,7.5,7.5,7.5,7.5,7.5,7.5,7.5,7.5,7.5],\"umidade\":[49.25,43.34,52.9,57.84,52.86,46.39,39.49,61.13,43.35,52.54,45.09,52.12,68.9,70.81,74.96,71.22,66.33,65.33,64.4,59.27,71.4,67.3,73.86,70.43,71.37,86.4,80.69,73.97,66.05,90.87,79.33,73.82,73.74,62.33,60.05,80.1,71.95,65,75,71.06,67.42,60.05,74.78,77.58,65.47,62.99,75.31,77.65,69.24,64.59,64.27,56.46,56.04,56.99,56.04,45.02]}",
        "payloadType": "json",
        "x": 110,
        "y": 60,
        "wires": [
            [
                "08acb9ef9b9a196b"
            ]
        ]
    },
    {
        "id": "31e2c2c9f2bff06a",
        "type": "debug",
        "z": "ea538592da2e51e2",
        "name": "debug 29",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 60,
        "wires": []
    },
    {
        "id": "09edde87b1151caa",
        "type": "NGSI Entity",
        "z": "ea538592da2e51e2",
        "name": "Ler entidade",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "read",
        "entityId": "urn:ngsi-ld:decision:1",
        "entityType": "data",
        "attrs": "",
        "keyValues": "true",
        "dateModified": "false",
        "x": 290,
        "y": 120,
        "wires": [
            [
                "3b8edefc28c4b4b9"
            ]
        ]
    },
    {
        "id": "2b9d1c447b319764",
        "type": "inject",
        "z": "ea538592da2e51e2",
        "name": "Ler temp",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "x": 120,
        "y": 120,
        "wires": [
            [
                "09edde87b1151caa"
            ]
        ]
    },
    {
        "id": "3b8edefc28c4b4b9",
        "type": "debug",
        "z": "ea538592da2e51e2",
        "name": "debug 30",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 120,
        "wires": []
    },
    {
        "id": "dc1fa2f61edf8dcf",
        "type": "NGSI Entity",
        "z": "ea538592da2e51e2",
        "name": "Excluir entidade",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "delete",
        "entityId": "urn:ngsi-ld:decision:1",
        "entityType": "data",
        "attrs": "",
        "keyValues": "false",
        "dateModified": "false",
        "x": 300,
        "y": 180,
        "wires": [
            [
                "3221bff9bd14abea"
            ]
        ]
    },
    {
        "id": "8a417641ccdad007",
        "type": "inject",
        "z": "ea538592da2e51e2",
        "name": "Apagar temp",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "x": 110,
        "y": 180,
        "wires": [
            [
                "dc1fa2f61edf8dcf"
            ]
        ]
    },
    {
        "id": "3221bff9bd14abea",
        "type": "debug",
        "z": "ea538592da2e51e2",
        "name": "debug 31",
        "active": true,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 180,
        "wires": []
    },
    {
        "id": "509a19c86427a95d",
        "type": "NGSI Entity",
        "z": "ea538592da2e51e2",
        "name": "",
        "openapis": "9bccc41af47bb660",
        "servicepath": "/",
        "actionType": "read",
        "entityId": "urn:ngsi-ld:decision:1",
        "entityType": "data",
        "attrs": "",
        "keyValues": "false",
        "dateModified": "false",
        "x": 230,
        "y": 380,
        "wires": [
            [
                "03613652237fdf8d",
                "4eda1b612198c8dc",
                "689701499a0a962b",
                "21fc1e4f402a5d85"
            ]
        ]
    },
    {
        "id": "3b2f49372141d86a",
        "type": "inject",
        "z": "ea538592da2e51e2",
        "name": "Leitura",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "x": 90,
        "y": 380,
        "wires": [
            [
                "509a19c86427a95d"
            ]
        ]
    },
    {
        "id": "03613652237fdf8d",
        "type": "function",
        "z": "ea538592da2e51e2",
        "name": "Temperatura",
        "func": "var arr1 = msg.payload.temp.value;\nvar arr2 = msg.payload.dia.value;\n\nfunction formatData(arr1, arr2) {\n    const dataObject = [{\n        \"series\": [\"Temperatura média do dia (em ºC)\"],\n        \"data\": [arr1],\n        \"labels\": arr2\n    }];\n\n    return dataObject;\n}\n\nconst result = formatData(arr1, arr2);\nreturn {payload : result };",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 280,
        "wires": [
            [
                "b0459ef3cfd438e4"
            ]
        ]
    },
    {
        "id": "b0459ef3cfd438e4",
        "type": "ui_chart",
        "z": "ea538592da2e51e2",
        "name": "",
        "group": "8bcb2804d0691f25",
        "order": 1,
        "width": 23,
        "height": 5,
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "l",
        "interpolate": "bezier",
        "nodata": "no data",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#2ca02c",
            "#ff7f0e",
            "#a4c1c9",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 570,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "433a3070b8e931dd",
        "type": "ui_chart",
        "z": "ea538592da2e51e2",
        "name": "",
        "group": "8e1d1b289722c345",
        "order": 2,
        "width": 23,
        "height": 5,
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "l",
        "interpolate": "bezier",
        "nodata": "no data",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#d62728",
            "#2ca02c",
            "#ff7f0e",
            "#a4c1c9",
            "#98df8a",
            "#1f77b4",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 570,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "6d58b88fafd4f876",
        "type": "ui_chart",
        "z": "ea538592da2e51e2",
        "name": "",
        "group": "8e1d1b289722c345",
        "order": 1,
        "width": 23,
        "height": 5,
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "l",
        "interpolate": "bezier",
        "nodata": "no data",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#2c8c2c",
            "#1f77b4",
            "#ff7f0e",
            "#a4c1c9",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 570,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "5df3657aae8cfd7b",
        "type": "ui_chart",
        "z": "ea538592da2e51e2",
        "name": "",
        "group": "8bcb2804d0691f25",
        "order": 3,
        "width": 23,
        "height": 5,
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "l",
        "interpolate": "bezier",
        "nodata": "no data",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#ff7f0e",
            "#2ca02c",
            "#ff7f0e",
            "#a4c1c9",
            "#98df8a",
            "#1f77b4",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 570,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "21fc1e4f402a5d85",
        "type": "function",
        "z": "ea538592da2e51e2",
        "name": "Preço",
        "func": "var arr1 = msg.payload.valor.value;\nvar arr2 = msg.payload.dia.value;\n\nfunction formatData(arr1, arr2) {\n    const dataObject = [{\n        \"series\": [\"Preço no dia por dúzia (em reais)\"],\n        \"data\": [arr1],\n        \"labels\": arr2\n    }];\n\n    return dataObject;\n}\n\nconst result = formatData(arr1, arr2);\nreturn {payload : result };",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 480,
        "wires": [
            [
                "433a3070b8e931dd"
            ]
        ]
    },
    {
        "id": "4eda1b612198c8dc",
        "type": "function",
        "z": "ea538592da2e51e2",
        "name": "Produção",
        "func": "var arr1 = msg.payload.producao.value;\nvar arr2 = msg.payload.dia.value;\n\nfunction formatData(arr1, arr2) {\n    const dataObject = [{\n        \"series\": [\"Produção semanal registrada no dia (em dúzia)\"],\n        \"data\": [arr1],\n        \"labels\": arr2\n    }];\n\n    return dataObject;\n}\n\nconst result = formatData(arr1, arr2);\nreturn {payload : result };",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 420,
        "wires": [
            [
                "6d58b88fafd4f876"
            ]
        ]
    },
    {
        "id": "689701499a0a962b",
        "type": "function",
        "z": "ea538592da2e51e2",
        "name": "Umidade",
        "func": "var arr1 = msg.payload.umidade.value;\nvar arr2 = msg.payload.dia.value;\n\nfunction formatData(arr1, arr2) {\n    const dataObject = [{\n        \"series\": [\"Umidade relativa do ar (em %)\"],\n        \"data\": [arr1],\n        \"labels\": arr2\n    }];\n\n    return dataObject;\n}\n\nconst result = formatData(arr1, arr2);\nreturn {payload : result };",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 340,
        "wires": [
            [
                "5df3657aae8cfd7b"
            ]
        ]
    }
]